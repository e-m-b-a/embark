
<div class="row uploadRow">
    <div class="col-sm">
    <div class="row uploadIconRow">
        <div id="fileDropDiv" ondrop="showFiles(event.dataTransfer.items)" ondragover="dragOverHandler(event)" onchange="showFiles(this.lastElementChild.files)">
            <p class="titleText">Upload a firmware image or archive</p>
            <p class="subText">Supported archive types : zip,tar,tar.gz</p>
            <label for="file-input">
                <span class="uploadIcon"><i class="fas fa-cloud-upload-alt fileuploadIcon" aria-hidden="true"></i></span>
                {% comment %} <img src="{% static 'content/images/fileUpload.jpg'%}"/> {% endcomment %}
            </label>
            <input id="file-input" type="file" multiple/>
        </div>
    </div>
        <div id="uploadedFileNames" class="row">
            <p class="fileText"></p>
        </div>
        <div class="row uploadBtnRow">
            <button type="submit" class="btn btn-light" onclick="saveFiles()">Save Firmware Image</button>
        </div>
        <div class="progress row" id="progress-wrapper">
            <div id="progressBar" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
        </div> 
    </div>
    <div class="col-sm">
        <div class="row dataRow">
            <div class="col col-sm-8">
                <form action="/home/upload/" method="POST" id="post-form" >

                    {% csrf_token %}
                    {% load filters %}
                    <!-- Iterate over all fields and set expmode on fields in expert mode -->
                    {% for field in form %}

                        {% if field.expert_mode %}
                            <div class="form-group" value="expmode" style="display:none;">
                                {% if field.field.widget|is_checkbox %}
                                    {{ field }}
                                    {{ field.label_tag }}
                                {% else %}
                                    {{ field.label_tag }}
                                    {{ field }}
                                {% endif %}
                                {% if field.help_text %}
                                    <small class="form-text text-muted" value="help_text" style="display:none;">{{ field.help_text }}</small>
                                {% endif %}
                            </div>
                        {% else %}
                            <div class="form-group" >
                                 {% if field.field.widget|is_checkbox %}
                                    {{ field }}
                                    {{ field.label_tag }}
                                {% else %}
                                    {{ field.label_tag }}
                                    {{ field }}
                                {% endif %}
                                {% if field.help_text %}
                                    <small class="form-text text-muted" value="help_text" style="display:none;">{{ field.help_text }}</small>
                                {% endif %}
                            </div>
                        {% endif %}

                    {% endfor %}

                    <button type="submit" class="btn btn-light">Analyse</button>
                    <button type="button" class="btn btn-danger">Cancel</button>

                </form>
            </div>
            <div class="col col-sm-4">
                <div class="form-group">
                    <div class="row">
                        <div class="col-sm-7 togLbl">
                            <label for="expertMode">Expert mode</label>
                        </div>
                        <div class="col-sm-5 togSwitch">
                            <label class="switch">
                                <input id="expertModeSwitch" type="checkbox" onclick="expertModeOn()">
                                <span class="slider round"></span>
                            </label>
                        </div>

                        <div class="col-sm-7 togLbl">
                            <label for="helpText">Display Help</label>
                        </div>
                        <div class="col-sm-5 togSwitch">
                            <label class="switch">
                                <input id="helpTextSwitch" type="checkbox" onclick="helpTextOn()">
                                <span class="slider round"></span>
                            </label>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="static/scripts/main.js"></script>
